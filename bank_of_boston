// part of second lab assignment for elec2850. we were tasked with making a functioning bank system given a few parameters

#include <stdio.h>

int main(void)
{
	printf("Welcome to Bank of Boston. Please enter your password: \n");
	short entered_password;
	scanf_s("%hu", &entered_password);

	if (entered_password == 1234)
	{
		printf("You entered the correct password.\n");

		int withdrawal_amount = 0;
		int interest_estimate = 0;
		int account_balance = 0;
		int deposit_amount = 0;

		while (entered_password == 1234)
		{
			printf("What type of transaction would you like to complete? \n");
			printf("1.Deposit\n2.Withdraw\n3.Check Balance\n4.Estimate Interest\n5.Exit\n");
			char number_option;
			scanf_s("%hhd", &number_option);

			switch (number_option)
			{
			case 1:
				printf("You have selected the deposit option.\nPlease enter amount you would like to deposit: ");
				scanf_s("%d", &deposit_amount);
				account_balance = account_balance + deposit_amount;
				break;

			case 2:
				printf("You have selected the withdrawal option.\nPlease enter the amount you would like to withdraw: ");
				scanf_s("%d", &withdrawal_amount);

				if (withdrawal_amount > account_balance)
				{
					printf("You cannot take out more than %d. Enter a new amount.\n", account_balance);
				}
				else if (withdrawal_amount <= account_balance)
				{
					account_balance = account_balance - withdrawal_amount;
				}

				break;

			case 3:
				printf("You have selected the check balance function.\n");
				printf("Your balance is %d \n", account_balance);
				break;

			case 4:
				printf("You have selected the estimate interest function.\n");
				double interest_estimate = 0;
				interest_estimate = (double) account_balance * .03;
				printf("Your interest estimate is %f for %d \n", interest_estimate, account_balance);
				break;

			case 5:
				printf("You have elected to exit the program. \n");
				return 0;
			}
		}
	}

	char attempts = 0;
	for (attempts = 0; attempts < 3; attempts++) {
		printf("Attempt %hhd/3. Enter password: ", attempts + 1);
		scanf_s("%hu", &entered_password);

		if (entered_password != 1234)
		{
			printf("Wrong password. Try again.\n");
		}
	}

	if (attempts == 3) {
		printf("3 failed attempts. Kicked out.\n");
		return 0;
	}
}
